<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Firebase Realtime Database Search</title>
<!-- Add Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-database.js"></script>
<script>
  // Initialize Firebase
  const firebaseConfig = {
    apiKey: "AIzaSyDrDdXfJJLK1HGOOzb06-ieANDEaVFn0yM",
    authDomain: "alfredlille-e39ea.firebaseapp.com",
    databaseURL: "https://alfredlille-e39ea-default-rtdb.europe-west1.firebasedatabase.app",
    projectId: "alfredlille-e39ea",
    storageBucket: "alfredlille-e39ea.appspot.com",
    messagingSenderId: "491927146146",
    appId: "1:491927146146:web:fc874c0423fe672fc211fb"
  };
  firebase.initializeApp(firebaseConfig);

  // Reference to the Firebase database
  const database = firebase.database();

  // Function to perform the search
  function search() {
    const searchTerm = document.getElementById('searchTerm').value.toLowerCase();
    const query = database.ref('users').orderByChild('name').equalTo(searchTerm);

    query.once('value', function(snapshot) {
      const resultsContainer = document.getElementById('searchResults');
      resultsContainer.innerHTML = ''; // Clear previous results

      snapshot.forEach(function(childSnapshot) {
        const userData = childSnapshot.val();
        // Display search results
        const resultElement = document.createElement('div');
        resultElement.innerHTML = `<strong>Name:</strong> ${userData.name}, <strong>Email:</strong> ${userData.email}`;
        resultsContainer.appendChild(resultElement);
      });

      if (snapshot.exists()) {
        // If there are no results
        const noResultsElement = document.createElement('div');
        noResultsElement.textContent = 'No results found.';
        resultsContainer.appendChild(noResultsElement);
      }
    });
  }
</script>
</head>
<body>
  <h1>Firebase Realtime Database Search</h1>
  <label for="searchTerm">Search by Name:</label>
  <input type="text" id="searchTerm">
  <button onclick="search()">Search</button>
  <div id="searchResults"></div>
</body>
</html>